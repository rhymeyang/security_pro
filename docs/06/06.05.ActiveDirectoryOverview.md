---
lang: zh-CN
title: Section 6.5 Active Directory Overview
description: some description
---

As you study this section, answer the following questions:

<ul>
    <li>
     What is the purpose of a domain?
    </li>
    <li>
     What is the difference between a tree and a forest?
    </li>
    <li>
     How do organizational units (OUs) simplify security administration?
    </li>
    <li>
     What are advantages of a hierarchal directory database over a flat file database?
    </li>
    <li>
     When are user policies applied?
    </li>
    <li>
     How do computer policies differ from user policies?
    </li>
    <li>
     What is the order in which Group Policy Objects (GPOs) are applied?
    </li>
    <li>
     If a setting is defined in two GPOs, which setting is applied?
    </li>
   </ul>

In this section, you will learn to:

<ul>
    <li>
     Create OUs
    </li>
    <li>
     Delete OUs
    </li>
    <li>
     Use Group Policy
    </li>
    <li>
     Create and link a GPO
    </li>
    <li>
     Create user accounts
    </li>
    <li>
     Manage user accounts
    </li>
    <li>
     Create a group
    </li>
    <li>
     Create global groups
    </li>
   </ul>

The key terms for this section include:

<table class="terms">
   <thead>
    <tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Term
    </th>
    <th scope="col" class="fw-bold">
     Definition
    </th>
   </tr></thead>
   <tbody><tr>
    <td>
     Domain
    </td>
    <td>
     A domain is an administratively-defined collection of network resources that share a common directory
        database and security policies. The domain is the basic administrative unit of an Active Directory structure.
    </td>
   </tr>
   <tr>
    <td>
     Tree
    </td>
    <td>
     A tree is a group of related domains that share the same contiguous DNS namespace.
    </td>
   </tr>
   <tr>
    <td>
     Forest
    </td>
    <td>
     A forest is a collection of related domain trees. The forest establishes the relationship between trees
        that have different DNS namespaces.
    </td>
   </tr>
   <tr>
    <td>
     Organizational unit
    </td>
    <td>
     An organizational unit is similar to a folder. It subdivides and organizes network resources within a domain.
    </td>
   </tr>
   <tr>
    <td>
     Object
    </td>
    <td>
     Each resource within Active Directory is identified as an object.
    </td>
   </tr>
   <tr>
    <td>
     Domain controller
    </td>
    <td>
     A domain controller is a server that holds a copy of the Active Directory database. The copy of the Active Directory database on a domain controller can be written to.
    </td>
   </tr>
   <tr>
    <td>
     Replication
    </td>
    <td>
     Replication is the process of copying changes to Active Directory on the domain controllers.
    </td>
   </tr>
   <tr>
    <td>
     Member servers
    </td>
    <td>
     Member servers are servers in the domain that do not have the Active Directory database.
    </td>
   </tr>
   <tr>
    <td>
     Policy
    </td>
    <td>
     A policy is a set of configuration settings applied to users or computers.
    </td>
   </tr>
  </tbody></table>

This section helps you prepare for the following certification exam objectives:

<table class="objectives">
   <thead>
    <tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Exam
    </th>
    <th scope="col" class="fw-bold">
     Objective
    </th>
   </tr></thead>
   <tbody><tr>
    <td>
     TestOut Security Pro
    </td>
    <td>
     1.0 Identity Management and Authentication
     <blockquote>
      1.1 Manage Identity
     </blockquote>
    </td>
   </tr>
   <tr>
    <td>
     CompTIA Security+ SY0-601
    </td>
    <td>
     3.7 Given a scenario, implement identity and account management controls.
     <ul>
      <li>
       Account types
       <ul>
        <li>
         User account
        </li>
        <li>
         Shared and generic accounts/credentials
        </li>
        <li>
         Guest accounts
        </li>
        <li>
         Service accounts
        </li>
       </ul>
      </li>
     </ul>
    </td>
   </tr>
  </tbody></table>

## 6.5.1 Active Directory Introduction

### Active Directory Overview 00:00-01:01

In this lesson, we're going to introduce you to the basics of Microsoft's Active Directory service, or AD service. Using Active Directory can be beneficial when managing larger computer environments.

In standalone and workgroup networking models, all computer management takes place on each individual computer. This includes authentication and security.

This means that every computer stores its own authentication independently from any other computer.

Although these models may work well in small environments of 10 to 15 computers, they don't work well in larger environments. This is because duplicate sets of user accounts must be created and maintained on each computer.

To overcome these types of challenges, Microsoft created Active Directory services.

AD is a centralized database that provides three major benefits: centralized resources and security administration,

single logon for access to global resources, and simplified resource location.

Centralized Resources and Security Administration 01:01-01:27
Let's first discuss centralized resources and security administration.

This means that an administrator can manage and secure their network resources and security objects from a single point. That single point is the Active Directory database.

This means that—unlike the workgroup networking model—they don't have to go from computer to computer to implement these features.

This feature is probably the most compelling reason for using Active Directory.

### Single Logon 01:27-02:46

The second benefit is that you can provide access to the network resources on any server in the domain with a single logon.

So once a user has been created on a domain controller, that user can be granted access to any resource in the network—from any network computer.

For example, if this computer is this user's main desktop computer, he or she could authenticate or log in to this computer daily. He or she would never have to worry about restricted access.

However, if the user needed this computer to attend a meeting in a conference room, they could also login or authenticate from it. They would still have access to the same resources they had when logged in from the main computer.

The third benefit is the ability to simplify access to files and print resources.

This is done by allowing files and print resources to be published on the network. Once done, a user can search the Active Directory database for the desired resource and then securely access it.

For example, if our user authenticated the domain from this computer but wanted to access a shared folder located on this computer, they wouldn't need to directly reauthenticate to that computer.

Instead, they could simply access the folder for which they had been granted rights.

Likewise, if our user needed to print files, they could find and print to the network printer without needing to reauthenticate to the printer.

### Active Directory Domains 02:46-03:40

As you can imagine, it's going to take a little more work to implement these features than would be required to manage a workgroup network.

As such, you need to be familiar with the various components that comprise an Active Directory implementation.

Let's look at what they are.

The first thing we need to look at is the concept of a domain.

A domain is an administratively defined collection of network objects or resources that share a common directory database and security policies.

The domain is the basic administrative unit of Active Directory. It's the Active Directory database.

As such, it stores our user information and our security information.

For example, in this network, you can see we're working with the CorpNet.xyz domain.

Notice that the domain is identified using a distinguished Domain Name System name, or DNS name, of CorpNet.xyz.

But sometimes we refer to a domain by just its domain or common name. In this case it's CorpNet.

### Domain Controllers 03:40-04:36

Another component of Active Directory is the domain controller.

A domain controller, also called a DC, is a Windows server that holds a copy of the Active Directory database.

A single domain can have multiple domain controllers, with each domain controller containing a copy of the AD database.

In addition, any changes that need to be made to the Active Directory database can be made to any of the domain controllers. Then that change will be sent out to all the other domain controllers within the domain.

This process is called replication.

For example, if I create a new user account on this domain controller— through the process of replication—that same user account would be copied or replicated to the Active Directory databases on all the other domain controllers in the domain.

This allows Active Directory to maintain consistency between all the domain controllers. No matter which one you're working with, it's going to have the exact same information as all the other ones in that domain.

### Organizational Units 04:36-06:04

Next, we need to look at organizational units, or OUs.

An OU is like a folder that's used to subdivide and organize resources within the domain.

Examples of organizational units are shown here. We have Marketing, Sales, and Research.

An organizational unit is also known as a container object.

This means that it can contain other domain objects and can even contain other organizational units. Take advantage of this if you want to nest multiple OUs within a given organization unit.

For example, when I expand the Sales OU, you see that I've used several OUs to organize my sales team by region.

OUs can also contain other types of objects, such as user objects, computer objects, and so on.

Besides logically organizing your network resources, OUs also help you simplify your security administration.

For example, if all my users in the Research Department need a similar level of access to network resources, then I can apply the necessary security policies only to the Research OU. Every user will receive those same policies.

This eliminates the need to go through each Research OU user and make the same security changes over and over.

It also means that if I add a new user to this OU, that user will automatically receive the same security privileges. They don't need me to manually assign them anything.

Likewise, if I were to delete a user from the Research OU, that user would lose whatever security privileges they received in the first place.

### Built-In Containers 06:04-07:01

Active Directory also includes a special type of container object called a built-in container.

A built-in container looks like an organizational unit, but it's not.

Some of the built-in containers shown here include Foreign Security Principles, Managed Service Accounts, and Users.

Notice that the icons we use for built-in containers are slightly different than those used for the OUs we looked at just a minute ago.

Like the other type of organizational units, built-in containers can contain other objects and can be used to organize our Active Directory objects.

But, these built-in containers are created by default when the domain is initially installed. They're different from organizational units in several key ways.

For example, you can't create, move, rename, or even delete a built-in container.

In addition, they have very few properties that can be edited. There's also not much I can configure with one of these.

With organizational units, on the other hand, there's much more that can be configured.

### Active Directory Objects 07:01-07:29

In addition to organizational units and built-in containers, Active Directory also includes objects.

With Active Directory, each network resource is identified as an object.

For example, in the Research OU, you see I have four objects. Three user objects—Pascal, Paul, and Sailor—and a group object named USA.

And there are many other object types used within Active Directory as well.

You can have objects for computers, for printers, and more.

### Object Attributes 07:29-07:59

Each of these objects contains attributes. Each attribute represents some bit of information about that object.

Let's suppose that we're viewing the attributes of the Sailor Olsen user object.

Some of the attributes associated with a user object are the user's name, phone number, email address, and so on.

These attributes are used for both locating and securing network resources.

Essentially, if you want someone to be able to log in to the domain and access the network resources, then you must create a user object for them within the domain.

### Summary 07:59-08:21

That's it for this lesson.

In this video, we introduced you to Active Directory.

We first talked about Active Directory domains.

We talked about domain controllers.

We talked about organizational units.

We talked about built-in containers.

Then we talked about individual objects in Active Directory.

## 6.5.2 Joining a Domain

### Join a Domain 00:00-00:56

In this demonstration, we're going to review how to join a Windows workstation, such as this Windows 10 system here, to an Active Directory domain.

I'll come down here and type in ‘system', then go and click on System. After this opens, we see that this system isn't currently joined to a domain. Right now, it's participating in a Workgroup. The name of the work group is TestOut, which, by the way, isn't the default Workgroup that gets set up whenever you install a Windows system. The default name is Workgroup.

Now, as you can see, it's not joined to a domain yet. We need to change that.

To join this group to a domain, you need a domain to exist. To make that happen, you have to install a Windows server system, install Active Directory on it, make it a domain controller, and then configure your domain.

Let's switch over to my Windows 2019 Server and take a look.

### Domain Controller 00:56-02:15

As you can see here, I've already done all of those tasks. This is my Windows server system. Note, over here, that it already has the Active Directory Domain Services role installed on the system, just labeled as AD DS. The server is functioning as the domain controller for the domain CorpNet.xzy.

Before we switch over to the workstation system, I want to mention something important: this server is also functioning as a DNS server for the domain. Depending on the implementation you're working in, this might not be the case in the real world. I've set it up this way for convenience in a demonstration environment. In a large implementation, it's very likely that the DNS server won't be configured this way. We just need to remember that this server, with an IP address of 10.10.10.5, is my DNS server for my CorpNet domain.

With that in mind, Let's jump back over to our Windows 10 system.

Now let's go ahead and join this workstation to the CorpNet.xyz domain. One way to do that is to click the Change Settings link. You could also click Advanced System Settings and then the Computer Name tab, and it'll take you to the same place.

On the Computer Name tab, we have an option called Change. Click it. Notice we can change the computer name here if we want to. But note, down here, we can also make this workstation a member of a domain.

### Configure the DNS Server Address 02:15-04:06

I'm not going to do that just yet because right now, this workstation doesn't know how to contact the domain controller. We need to configure it to use my Active Directory DNS server before we can proceed. So, let's go down to our Network icon in the notification area. Right-click and go to Open Network & Internet Settings. We'll click on Ethernet, then come over here, to Change adapter options. Now I need to double-click on Ethernet, and then I'll click Properties. Then we want to go to the properties of IPv4. Notice, down here, that it's getting its DNS server automatically, via DHCP.

Be aware that if your network is set up so that your DHCP server is handing out the correct IP address for your Active Directory DNS server, you don't actually have to make any changes. But if it isn't, then you need to manually specify the IP address of the DNS server that's functioning within your Active Directory environment. That's our case here. I happen to know that the DHCP server on this network is handing out a different IP address for the DNS server than what's being used by my Active Directory domain.

Before I'll be able to contact the domain controller and locate the CorpNet.xyz domain, I've got to click this option, right here, and set my preferred DNS server to the IP address of my domain controller, where the DNS service was running. Remember, a minute ago, we talked about how we have to remember that DNS is running on the same server as Active Directory, and its IP address is 10.10.10.5. So that's the value that we need to put into this field here, 10.10.10.5. We'll click OK, OK again, and then Close. I'll go up and exit out of these windows.

Now everything is connected, and my workstation can contact my domain controller in the CorpNet.xyz domain.

### Join the Domain 04:06-05:04

With that set up, we're ready to change settings here and join the domain. I'll switch this to Domain, and then I enter in the name of the domain that I want to join, ‘CorpNet.xyz', and click OK. Of course, before I can join this workstation to the domain, I have to provide the credentials of an administrative domain user--not the local system, but the administrative user in the domain itself--which happens to be the name Administrator. I'll go ahead and enter in the password for the administrator user account in my CorpNet.xyz domain. Click OK. And we're authenticated. I know that because it's welcoming me to the CorpNet.xyz domain. I'll click OK. It does require the system to restart before the changes can take place. I'll click OK. I'll close, and then I have to restart. We'll wait just a minute while the system reboots.

### Log In as a Domain User 05:04-07:39

Okay, we're rebooted. Notice that I have the option of logging in. I was logged in to my local account before I joined the domain, and I can still log in as my local user after I've joined it. The difference is that now there's a new option available that wasn't here before: I can log in as another user. I can log in using a domain user account instead of a local user account.

Remember, a domain user account has a lot of advantages. Using a domain account, I could go to other workstations in the domain and log in using that very same account. This means I don't have to duplicate my user account on every single workstation in my network that I'm going to want to log in from. If I were functioning in a Workgroup situation, I would. I would have to go through and make an account on each and every workstation in my network and configure that user account with the same password. That would be a pain. But, by using a domain user account, I can define one user and use it to log in to all of the workstations in the domain. One quick note--when I created my domain user account, I named it dfellows.

Okay. If you're going to log in as a domain user, you have to take some different steps than you normally would. You'll see, down here, that it tells me I'm going to be signing into CORPNET. So, I could type dfellows right here, and it would authenticate me using the dfellows user account in the domain instead of the local user account on the system. But there might be times when this option isn't automatically configured, or you need to sign into another domain that's not listed here. To do that, type the name of the domain first. In this example, we're going to log in to CorpNet. Then I put a backslash (\), and then I put in the name of the user in that domain that I want to use for authentication.

In this case, I'm going to log in as the dfellows user in the CorpNet domain. I'm essentially telling the workstation where to locate the user account I want to use. Because I specified that the dfellows user resides in CorpNet, it won't try to use a local user account on the local system. Instead, it will use the dfellows user in the domain. I'll go ahead and log in with my password and wait for it to log in.

Now I'm logged into this system using the credentials on the domain to authenticate. This takes a few minutes to complete. The system needs to set up my user profile. It needs to set up my default apps and programs. A whole bunch of things have to happen before my domain account is completely set up.

Finally, let's confirm that we're actually part of the CorpNet.xyz domain. I'll go in here, type ‘system', and select it from the list. Once this pops up, you can see that my domain is listed at CorpNet.xyz.

### Summary 07:39-07:49

That's it for this demonstration. In this demo, we joined a Windows workstation to a domain.

## 6.5.3 Managing Active Directory Objects

### Managing Active Directory Objects 00:00-00:27

In this demonstration, we're going to spend some time learning how to manage Active Directory objects. We're going to be on a Windows 2019 server. I'm using the Server Manager utility, and its name is CorpNet.xyz. This system has the Active Directory domain services role installed, which makes it a domain controller, and it's hosting the CorpNet.xyz domain.

Active Directory Users and Computers 00:27-00:58
To manage the objects within this domain, within server manager, I click on Tools, and then I click on Active Directory Users and Computers. When I do, the Active Directory Users and Computers utility is displayed.

Now, you don't have to run this utility right off of the server desktop. If you want to, you can install the software you need on a workstation system. It takes some work, though. I'd say about half the system administrators I know just use Active Directory Users and Computers right off the server system itself. But you can do it from the workstation if you want to.

### Container Objects 00:58-02:05

All right. When I initially load Active Directory Users and Computers, over here on the left, we see the name of my domain, CorpNet.xyz. As I pointed out just a second ago, that's the name of the domain that's being hosted on this domain controller. If I expand my domain, I see a list of container objects. Container objects do just what their name implies; they contain other Active Directory objects. Their purpose is to keep things organized. Instead of putting all of our Active Directory objects right here, within the domain, which would be really, really messy and confusing, we sort the various objects into different containers to keep things nice, tidy, and well-organized.

When I click the name of the domain over here, on the left, a list of all my container objects within the domain is displayed over here, on the right. You'll note that there are several different types of container objects. These container objects (Builtin, Computers, Foreign Security Principles, and a few others), were all created by default when Active Directory was initially installed on this system. They were automatically populated with the types of objects that they were designed to contain.

### Organizational Units 02:05-03:56

There's another type of container object called an Organizational Unit. Within this domain, I've defined a few different organizational units: CorpNet Users, Development, Domain Controllers, Marketing, and Sales. With the exception of this container, Domain Controllers, these other four organizational units were created by the system administrator. The Domain Controller's organizational unit is also a default container. It was created when Active Directory was initially deployed. It just contains a computer account for the domain controller itself.

You might be asking, what's the difference between an organizational unit and a container object? Organizational units have a lot more flexibility—they can do a lot of different things. Container objects are very, very basic. They're just designed to hold the default objects that are created and used by Active Directory. The nice thing about these organizational units, as I've said before, is that they allow you to organize the various objects within your Active Directory domain.

So, what's the best way to use these units and actually get things organized? The approach I've used here is pretty common: I've defined an organizational unit for each of the divisions within my organization. I have an organizational unit for Marketing, and I have an organizational unit for Sales. I can put all the associated objects within Active Directory inside a container. My CorpNet Users OU contains some user accounts that aren't part of any particular department.

I've seen some organizations that create organizational units based on geography. They might have a unit for North America, a unit for South America, one for Europe, and one for Asia. Different structures work better for different organizations, so the flexibility is really great.

For our purposes today, we're going to go with the approach that you see here, where we create a different organizational unit for each of the functional divisions within the organization. I've got units for Development, Marketing, and Sales already. But there are probably more divisions within my organization.

### Create Organizational Units 03:56-05:30

If I need to create additional organizational units to support those divisions, I click on my domain, over here. Then I come over here, to this button, which allows us to create a new organizational unit. Click on it, and let's create a new organizational unit for my Tech Support division within my company.

Note that there's an option here to protect the container from accidental deletion. It's a really good idea to leave this on. It prevents the administrator from accidentally deleting the organizational unit, and if you think about it, that would be really bad because the OU usually contains a lot of user accounts. If you delete the organizational unit, you also automatically delete all of the user accounts within it. If that's not what you wanted to do, that would be a very low point in your tech career. I like to leave this option, right here, turned on. It keeps you from doing that.

Okay. Now my Tech Support organizational unit is defined. Within this organizational unit, I can create other Active Directory objects. For example, I can create additional organizational units, meaning that I can create a hierarchical tree of OUs to reflect the structure of my organization. For example, I can create a new unit for the Help Desk group. I can come back up here and create another one for my Backline Support group within the Technical Support division. Do you see how you can use these OUs to mirror the structure of your company? Then, within these units, I can create more Active Directory objects.

### Create User Accounts 05:30-07:37

The most common type of Active Directory object you'll to create within an organizational unit is a user account. These user accounts allow a given user to authenticate to the domain. They can be used to, say, log on to a workstation that's been joined to the domain. You can also use these accounts to control what the user is allowed to access. Basically, that user object lets you authenticate and control access to domain resources.

Let's suppose we need to create some user accounts for our Help Desk group. With Help Desk selected over here, I'll come over and click on Create a New User in the current container. The first thing I need to do is provide a first name for the user. I enter in ‘Jon' for the first name and ‘Shaffer' for the last name. Then I need to provide a user logon name.

Usually, the user logon name you provide is dictated by your organization's security policy. For example, it may be something to the effect of ‘jshaffer', first initial and last name. Click on Next. Then we enter a password for that user. Remember, it's a bad security practice for the system administrator to know the end user's password. Basically, for security purposes, only the user should know his or her password. So it's a good idea to require the user to change their password at the next logon. The first time the user logs on, they'll be prompted to change their password, and then you won't know their password anymore, and you'll be following security best practices.

Notice that you do have options to prevent them from being able to change a password. You can also specify that the password never expires or that the account is disabled. You might use these options on occasion. Click Next. Click Finish.

Now we have a user object created in Active Directory. Let's go ahead and create another one. This will be for the Val Boss user. Provide her a password, as well. And, of course, we'll require her to change the password at the next logon. Click Finish.

### Create Groups 07:37-09:06

Now we have two user accounts for our Help Desk employees. We've talked about how to create organizational units. We've talked about how to create user accounts. You can also create group accounts using Active Directory Users and Computers.

For example, we can create a group within the Help Desk organizational unit. We can add Help Desk employees as members of that group. To do this, I'll click Create a new group in the current container. Let's name the group ‘Day Shift'. This group will contain all the employees within the Help Desk that work on the day shift. Okay, that's done. To add these users to that group, we have a couple of different options. One of the easiest ways is to double-click on the group, click Members, and click Add, then enter in the users that we want to add. If I double-click on it and go to Members, we see that Jon Shaffer and Val Boss are both members of the Day Shift group. Group accounts are really useful because, more than likely, all of the users within this group that work in the Help Desk group are going to need very similar levels of access to domain resources. Instead of going to each user account and making the same assignments over and over and over again on every user account, we can just make the assignments once to the group and then make all the users who need that level of access members of that group. It makes things nice and easy.

### Summary 09:06-09:25

That's it for this demonstration. In this demo, we worked with Active Directory objects. First, we loaded the Active Directory Users and Computers utility. We created some organizational units. Then we created some user accounts and groups.

## 6.5.4 Active Directory Facts

This lesson covers the following topics:

- Active Directory
- Active Directory components

### Active Directory

Active Directory is a centralized database that contains user account and security information. In a workgroup, security and management are decentralized. They take place on each individual computer; each computer holds its own information about users and resources. With Active Directory, all computers share the same central database on a remote computer called a domain controller.

Active Directory is a hierarchical database. Hierarchical directory databases have the following advantages over a flat file database structure:

<table>
   <thead>
    <tr><th class_="firstTableHeader" scope="col" class="fw-bold">
     Advantage
    </th>
    <th scope="col" class="fw-bold">
     Description
    </th>
   </tr></thead>
   <tbody><tr>
    <td>
     Organization
    </td>
    <td>
     Hierarchical databases let you sort and organize your user accounts by location, function, and
      department.
    </td>
   </tr>
   <tr>
    <td>
     Replication
    </td>
    <td>
     The Active Directory database can be replicated to other systems. This eliminates the need to manually
      recreate user accounts on every system to which a user may need to access.
    </td>
   </tr>
   <tr>
    <td>
     Delegation
    </td>
    <td>
     Delegation allows you to assign users to manage portions of the 
		Active Directory database without
      giving all users rights to the entire database. For example, you can assign an administrator to manage the sales department in
      North America and enable this administrator to create user accounts, remove user accounts, and change passwords. However,
      this sales administrator won't be allowed to access the accounting or development departments. As another example, you
      can allow an administrator to manage all departments in Europe, but none in North American or Asia.
    </td>
   </tr>
   <tr>
    <td>
     Scalability
    </td>
    <td>
     A hierarchical database lets you grow the Active 
		Directory to meet the needs of your environment.
    </td>
   </tr>
  </tbody></table>

### Active Directory Components

Active Directory organizes network resources and simplifies management using the following components:

<table>
   <thead>
    <tr><th scope="col" class="fw-bold">
     Component
    </th>
    <th scope="col" class="fw-bold">
     Description
    </th>
   </tr></thead>
   <tbody><tr>
    <td>
     Domain
    </td>
    <td>
     A domain is an administratively-defined collection of network resources that share a common directory
      database and security policies. The domain is the basic administrative unit of an Active Directory structure. Depending on
      the network structure and requirements, the entire network might be represented by a single domain with millions of objects,
      or the network might require multiple domains.
    </td>
   </tr>
   <tr>
    <td>
     Trees and forests
    </td>
    <td>
     Multiple domains are grouped together in the following relationship:
     <ul>
      <li>
       A tree is a group of related domains that share the same contiguous DNS namespaces.
      </li>
      <li>
       A forest is the highest level of the organization hierarchy and is a collection of related domain trees. The forest
          establishes the relationship between trees that have different DNS namespaces.
      </li>
     </ul>
    </td>
   </tr>
   <tr>
    <td>
     Organizational unit (OU)
    </td>
    <td>
     An organizational unit is like a folder that subdivides and organizes network resources within a domain. An organizational
        unit:
     <ul>
      <li>
       Is a container object
      </li>
      <li>
       Can hold other organizational units
      </li>
      <li>
       Can hold objects such as users and computers
      </li>
      <li>
       Can be used to logically organize network resources
      </li>
      <li>
       Simplifies security administration
      </li>
     </ul>
    </td>
   </tr>
   <tr>
    <td>
     Generic container
    </td>
    <td>
     Like OUs, generic containers are used to organize Active Directory objects. Generic container objects:
     <ul>
      <li>
       Are created by default
      </li>
      <li>
       Cannot be moved, renamed, or deleted
      </li>
      <li>
       Have very few properties you can edit
      </li>
     </ul>
    </td>
   </tr>
   <tr>
    <td>
     Object
    </td>
    <td>
     Within Active Directory, each resource is identified as an object. Common objects include:
     <ul>
      <li>
       Users
      </li>
      <li>
       Groups
      </li>
      <li>
       Computers
      </li>
      <li>
       Shared folders
      </li>
     </ul>
     Each object contains additional information about the shared resource that can be used for locating and securing
        resources. Groups are composed of other directory objects that have a common level of access. The schema identifies the
        object classes (the type of objects) that exist in the tree and the attributes (properties) of the objects. In Active
        Directory, each user is assigned a Security Account Manager (SAM) account name; therefore, each user name must be unique.
    </td>
   </tr>
   <tr>
    <td>
     Domain controller
    </td>
    <td>
     A domain controller is a server that holds a copy of the Active Directory database that can be written
      to. Replication is the process of copying changes to Active Directory between the domain controllers. In contrast, member
      servers are servers in the domain that do not have the Active Directory database.
    </td>
   </tr>
  </tbody></table>

## 6.5.7 Group Policy

### Group Policy 00:00-00:37

One of the great benefits of managing your networks with a domain is that a domain lets you apply various configuration settings—such as security settings—globally. You can use a Group Policy to configure settings across multiple Windows hosts in a domain.

In this lesson, we're going to spend some time looking at what Microsoft's Group Policy is and how it works.

Let's first explain just what a policy is.

A policy is a set of configuration settings that can be used to control the working environment of user accounts and computer accounts.

These settings can be applied in one of two ways.

### Local Group Polices 00:37-01:00

First, an administrator could go to each computer and configure user and computer policies manually using the Local Group Policy Editor.

The disadvantage of using this method is that it takes a lot of time going from computer to computer and increases the possibility of user error.

Because of this, this method is typically only used for small networks that don't use Active Directory, or AD.

### Group Policy Management 01:00-03:32

The better method for you to apply Group Polices is to configure and apply them using Active Directory's Group Policy Management.

Using this method, you're able to push down the needed configuration settings to the individual hosts within the domain straight from the domain controller.

As you can imagine, making the change once to a domain controller is a lot easier than going from computer to computer creating the same setting over and over.

It also means that you're less likely to make a mistake.

It's important to keep in mind that it's possible to use both local and domain policies at the same time.

But, if there's a conflict between the two, the domain policy will always take precedence over any local settings.

When using Group Policy, policies are grouped together in a collection and stored in a Group Policy object, or GPO.

Because GPOs contain a collection of settings, they're very powerful and you can use them to apply a number of things. For example: registry settings, running scripts, applying templates, setting up software, making configuration settings, and more.

Here you see we're editing the GPO named Default Domain Policy, and notice that within this policy—in the left panel—we have a tree structure, in which we've stored our Group Policy settings.

In this example, if extend our tree out to the bottom, we go from: Computer Configuration to Policies; then to Windows Settings, to Security Settings, to Account Policies; and within Account Policies, we have a group of policies that are related to passwords.

If we click here within Password Policies, we have the group of policies as shown.

Notice that with these policies we can enforce such things as the password history.

Each policy will include some settings, and those can be seen here.

Double-clicking on one of these policies lets you configure these settings.

In the example seen here, Enforce password history is enabled and 24 passwords will be remembered. This means that the end user must use 24 unique passwords before they'll be allowed to reuse a password that they've used before.

As another example, you'll notice we also have a policy for setting the maximum password age. In other words, how many days the user can use the same password before they'll be forced to change it.

Right now, that's set to 42 days.

We also have additional policies to determine the password age, the password length, and whether passwords must comply with our complexity requirements.

As you can see, each of these individual policies lets us customize exactly how we want to manage our passwords.

### Computer Configuration Policies 03:32-04:41

Policies within a Group Policy object, such as the Default Domain Policy shown here, are divided into two different categories – Computer Configuration and User Configuration.

You might be asking what the difference is between a Computer Configuration Policy and a User Configuration Policy.

A Computer Configuration Policy is applied to the computer itself. Those settings will be applied no matter who logs on to the computer. In other words, Group Policy doesn't care who the individual user is—only which computer they're using.

The types of computer policies you may see under Computer Configuration include such things as: policies to control what software should be installed on the computer; scripts that might need to be run when the system boots or shuts down; password restrictions that are going to be applied to all the user accounts on the system; and also network security settings or registry settings that are going to be applied to the entire computer.

The important thing to remember about Computer Configuration Policies is that they're applied as the system boots up and initially connects to the domain. The system enforces them before any user logs on.

### User Configuration Policy 04:41-05:52

User Configuration Policies, on the other hand, are applied to a specific user. This means that a user's polices will still be applied regardless of which computer they use to log on to the domain.

As such, different policies can be set for different users. For example, you may have one computer system being used by three different users.

Taking advantage of user policies, you can apply different settings based upon the User Configuration Policy that you set up for individual users.

Some sample User Policy settings could include the software that's installed for a specific user, or scripts that run when they log on or log off.

It might also include security settings for your web browser. You could even use it to push down a list of favorites you've already selected for your browser.

You can also use it to push down registry settings that apply just to that individual user.

Just remember that the key difference between User Policies and Computer Policies is the that User Policies are applied on a per-user basis. So, they're not applied until the user logs on.

Computer Configuration Policies, on the other hand, are applied to the entire computer system no matter who logs on. So they're applied when the system initially boots up.

### Key Policy Types 05:52-08:14

There are literally hundreds of different configuration settings that can be applied through Group Policy, and we can't possibly cover all of them here. But, there are a few key ones that you should be familiar with.

First, we have Account Policies. We use Account Policies to control such things as password settings, account lock out settings, Kerberos settings, and more.

Next, we have Local Policies/Audit Policy. You use the Audit Policy settings to configure auditing for various events—such as log on, account management, or privileged use.

Next, we have Local Policies/User Rights assignment. User Rights determine what actions a given user can perform on a given computer.

We also have Local Policies/Security Policies. Security Policies are used to control such things as allowing a user to install an unsigned driver or requiring control-alt-delete to be pressed in order to log on.

We can also configure Registry Policies. You can use Registry Policies to configure specific registry keys and values. They can also specify whether you can read or even change a specific registry value.

Another set of Group Policies affect the file system. You can use File System Policies to configure file and folder permissions that apply to multiple computers.

We also have Software Restriction Policies. You can use Software Restriction Policies to define what software can run on any computer that's joined to the domain. These Software Restriction Policies can be applied to a specific user—or they can be applied globally to all users.

Finally, we have administrative templates.

Administrative templates are registry-based settings that you can configure within a Group Policy object. They're very useful. You can forgo editing the registry or making configuration changes in Control Panel or the Settings app individually on every single computer in your network. Instead, just use the settings under administrative templates within Group Policy to control the computer configuration and centrally manage the user experience.

For example, you can use administrative templates to enable and configure various Windows features—such as Bitlocker, offline files, or even parental controls.

You can also use administrative templates to do fun things like customize the start menu, customize the task bar, or even set up the desktop environment.

### Summary 08:14-08:51

That's it for this lesson.

In this video, we talked about Group Policy management.

We first talked about what Group Policy is and how policies can be used to push down configuration settings to all the computers in your domain.

We talked about the relationship between Group Policy and Local Policy settings that you can configure on individual machines.

We then looked at the difference between Computer Configuration Policies and User Configuration Policies.

And then we ended this lesson by reviewing a list of policies that you should be familiar with in order to effectively manage a domain.

## 6.5.8 Using Group Policy

### Using Group Policy 00:00-00:27

In this demonstration, we're going to spend some time working with Group Policy. Group Policy contains lots of settings you can use to control the way Windows looks, runs, and behaves. There are two types of Group Policy settings. If your Windows system isn't part of a domain, then the locally stored Group Policy settings are applied to the system. If the workstation is a member of a domain, you can also apply Group Policy settings from a domain controller.

### Set Your Local Group Policy Settings 00:27-03:32

This Windows system isn't a member of the domain. I'm logged in with a local user account. So I don't have the option of using domain Group Policy settings to configure this windows system. Instead, I have my local Group Policy settings.

To do this, I'm going to come down here and type in ‘gpedit'. I'll come up here and click on the Edit Group Policy option under Best match to run the Group Policy editor. I'm going to take a second to adjust my screen here.

Now, up in the title bar of the window that says Local Group Policy Editor, the word "Local" is key. That tells me that the settings I'm configuring are being configured for just this computer system. You'll notice that there are two sets of Group Policy settings. We have Computer Configuration, and we have User Configuration. Computer configuration's policy settings are applied when the system first boots up, and they're applied to every user who logs in. The user configuration settings are different. They're applied on a per-user basis, and they're only applied once the user logs in.

Let's look at some computer configuration settings. We'll go to Administrator Templates and then down to Windows Components. And let's go to Store. Here, we can see each individual setting. There's one policy setting here that turns off the Store application. I'll double-click on it, and when I do, I can look down here, on the help screen, and it tells me what this setting does. Basically, this is used to either allow or deny access to the Windows store application.

If this system is being used in a company environment, we might not want end users to go out and download whatever apps they want from the Windows store. In this situation, we can turn Store access off by clicking Enabled and then OK. Now this policy is enabled.

My store icon is still available down here. I could still use it to go out to the Windows store because this change in the Group Policy setting won't be applied until the system shuts down and reboots again because it's a computer policy. Now let's collapse all of these.

Next, let's go down here, under User Configuration, and expand administrative templates. And then let's click on Control Panel. There are a lot of Group Policy settings we can configure that affect the way the end user interacts with the Control Panel. Remember that the user settings aren't applied until the user logs in. For example, we could come over here and say, "You know what? I don't want my end users having any access to the Control Panel, or to my Settings app." End users can really mess things up if they don't know what they're doing, so I want to turn access completely off. We're going to enable this policy. It tells us down here, once it's enabled, if the user tried to select a control panel item, a message will appear, explaining that this setting prevents this action. And now, the policy is enabled. The next time somebody logs in to this system, they won't have access to the control panel. So, that's one way that you can apply Group Policy settings, using the local Group Policy editor.

Now, this works fine, but there's a problem. If you're working in a network of three, or four, or five Windows systems, then it is possible to use local Group Policy to manage settings. But you would still have to go from system, to system, to system to make all the necessary configuration changes. If you're in a big network with thousands of computers, this isn't a good way to do things.

### Configure Domain and Group Policy Settings 03:32-06:48

A better option is to configure your Group Policy settings on a domain controller. Using a domain controller, you can make the configuration changes like we just made here, once on the domain controller itself, and then they'll automatically be pushed down to each individual Windows system that's a member of the domain. We can't make those changes here, from a workstation. Instead, we have to switch over and go to the domain controller server itself.

All right. I'm on my Windows 2019 Server domain controller. And I can come over here, to Tools, and then click on Group Policy management. And when I do, I can browse down through my domain to the Group Policy object I want to manage. I right-click on it and select Edit. This is called the Default Domain Policy; it's configured by default as soon as I set up Active Directory. And it'll be applied to all Windows systems that are members of the domain unless I decide otherwise.

Now, you'll notice that the domain Group Policies are divided up like your local Group Policy. You have your Computer Configuration, and you have your User Configuration. And it works exactly the same way: computer policies are applied as soon as the system comes online, and user policies are applied when the user logs in. The nice thing is that, as I make the changes here, on the domain controller, they'll be automatically applied to all the Windows systems that are members of the domain. For example, let's go into my computer configuration, and then, under Windows Settings, let's expand Security Settings and go to Account Policies. Under Account Policies, let's go to the Account Lockout policy.

The Account Lockout policy is used to prevent an attacker from trying to guess passwords to the Windows system. It does this by saying, "You know what? You're allowed to enter the wrong password just a few times, and once you exceed that number, I'm going to lock the system," because an authorized end user probably isn't going to make many attempts to log into their system. Let's come down here, to the account lockout threshold. You'll notice that, by default, the account lockout policy is basically disabled. You can try as many passwords as you want, and the system won't lock you out. And that's not a good thing. It allows an attacker to just sit there at the console of the Windows system and try password after password until they get the right one. We don't want to do that.

So, let's say, if you can't get the right password after three attempts, we're going to assume that you're not the right person, and we're going to lock the system. I hit OK. And when I do, it says, you know what? If we're going to do that, we need to change the values of these other Group Policy settings, such as how long we're going to keep the system locked and how long we're going to wait before we reset the counter.

So, now I'm going to give the end user three chances to log in. If they can't get the right password in three tries, we're going to lock the system. It's going to stay locked for 30 minutes, and after 30 minutes, we're going to reset the lockout counter. We'll go back to zero, and we can start fresh. The great thing about this is that, because it's under the computer configuration, the next time each Windows system that's a member of the domain is powered on and connects, this setting will be automatically pushed down to them. I don't have to walk around from system, to system, to system. I only make the change once here, and it gets pushed to all of my systems.

### Summary 06:48-07:06

That's it for this demonstration. In this demo, we configured Group Policy settings. First, we set up some local Group Policy settings. Then we ended this demonstration by configuring domain Group Policy settings.

## 6.5.9 Group Policy Facts

This lesson covers the following topics:

- Group Policy
- GPO structure

### Group Policy

A policy is a set of configuration settings applied to users or computers. Group policies allow the administrator to apply multiple settings to multiple objects within the Active Directory domain at one time. A set or collection of Group Policy configurations is called a Group Policy Object (GPO). The GPO is a collection of files that includes registry settings, scripts, templates, and software-specific configuration values.

### GPO Structure

Each GPO has a common structure with hundreds of configuration settings that can be enabled and configured. Settings are divided into two categories:

<table>
   <thead>
    <tr><th scope="col" class="fw-bold">
     GPO Category
    </th>
    <th scope="col" class="fw-bold">
     Description
    </th>
   </tr></thead>
   <tbody><tr>
    <td>
     Computer Configuration
    </td>
    <td>
     Computer policies are enforced for the entire computer and are initially applied when the computer boots. Computer policies
        are in effect regardless of the user logging into the computer. Computer policies include:
     <ul>
      <li>
       Software that should be installed on a specific computer
      </li>
      <li>
       Scripts that should run at startup or shutdown
      </li>
      <li>
       Password restrictions that must be met for all user accounts
      </li>
      <li>
       Network communication security settings
      </li>
      <li>
       Registry settings that apply to the computer (the HKEY_LOCAL_MACHINE subtree)
      </li>
     </ul>
     Computer policies also include a special category of policies called user rights. User rights identify system
        maintenance tasks and the users or groups who can perform these actions. Actions include:
     <ul>
      <li>
       Changing the system time
      </li>
      <li>
       Loading and unloading device drivers
      </li>
      <li>
       Removing a computer from a docking station
      </li>
      <li>
       Shutting down the system
      </li>
     </ul>
     Computer policies are initially applied as the computer boots and are enforced before any user logs on.
    </td>
   </tr>
   <tr>
    <td>
     User Configuration
    </td>
    <td>
     User policies are enforced for specific users and are applied when the user logs on. User 
		Policy settings include:
     <ul>
      <li>
       Software that should be installed for a specific user
      </li>
      <li>
       Scripts that should run at logon or logoff
      </li>
      <li>
       Internet Explorer user settings (such as favorites and security 
			settings)
      </li>
      <li>
       Registry settings that apply to the current user (the HKEY_CURRENT_USER subtree)
      </li>
     </ul>
     <p>
      User policies are initially applied as the user logs on and customizes Windows based on 
		his or her preferences.
     </p>
    </td>
   </tr>
  </tbody></table>

GPOs apply to objects when they are linked to containers and configured with specific settings.

<ul>
   <li>
    GPOs can be linked to Active Directory domains or organizational units (OUs).
   </li>
   <li>
    Built-in containers (such as the Computers container) and folders cannot have GPOs linked to them.
   </li>
   <li>
    A GPO applied to an OU affects only the users and computers in that OU.
   </li>
   <li>
    A GPO applied to a domain affects all users and computers in all OUs in that domain.
   </li>
   <li>
    A local GPO is stored on a local machine. It can be used to define settings even if the computer is not connected to a
    network.
   </li>
   <li>
    A specific setting in a GPO can be:
    <ul>
     <li>
      Undefined - this means that the GPO has no value for that setting and does not change the current setting.
     </li>
     <li>
      Defined - this means that the GPO identifies a value to enforce.
     </li>
    </ul>
   </li>
   <li>
    GPOs are applied in the following order:
    <ol>
     <li>
      The Local Group Policy on the computer.
     </li>
     <li>
      GPOs linked to the site.
     </li>
     <li>
      GPOs linked to the domain that contains the User or Computer object.
     </li>
     <li>
      GPOs linked to the organizational unit(s) that contain(s) the User or Computer object (from the highest-level OU to the
        lowest-level OU).
     </li>
    </ol>
   </li>
  </ul>

Use the acronym LSDOU (Local, Site, Domain, and OU) to help you remember the order that GPOs are applied. The local policy is always applied, but it may be overwritten by a policy from Active Directory.

<ul>
   <li>
    Individual settings within all GPOs are combined to form the effective Group Policy setting as follows:
    <ul>
     <li>
      If a setting is defined in one GPO and undefined in another, the 
		defined setting is enforced (regardless of the
        position of the GPO in the application order).
     </li>
     <li>
      If a setting is configured in two GPOs, the setting in the last-applied GPO 
		is used.
     </li>
    </ul>
   </li>
  </ul>
