---
lang: zh-CN
title: Section 12.4 Windows Logging
description: some description
---

As you study this section, answer the following questions:

<ul>
    <li>
     How can rules in the correlation process help reduce the use of system resources?
    </li>
    <li>
     How can alerts and triggers aid administrators as they resolve threats or issues?
    </li>
    <li>
     When configuring event subscriptions, should you use Group Policy or manually define them?
    </li>
</ul>

In this section, you will learn to:

<ul>
    <li>
     Configure collector-initiated subscriptions.
    </li>
    <li>
     Configure source-initiated subscriptions.
    </li>
    <li>
     Log events with Event Viewer.
    </li>
</ul>

The key terms for this section include:

<table class="terms">
    <thead>
    <tr>
        <th class_="firstTableHeader" scope="col" class="fw-bold">Term</th>
        <th scope="col" class="fw-bold">Definition</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Event forwarding</td>
        <td>
        Event forwarding allows you to configure specific events on one
        system to be forwarded to another system using specific criteria.
        </td>
    </tr>
    <tr>
        <td>Collector-initiated subscriptions</td>
        <td>
        The collector computer initiates the collection of events from
        various source computers.
        </td>
    </tr>
    <tr>
        <td>Source-initiated subscription</td>
        <td>The source system initiates the collection of events.</td>
    </tr>
    </tbody>
</table>

This section helps you prepare for the following certification exam objectives:

<table class="objectives">
    <thead>
    <tr>
        <th class_="firstTableHeader" scope="col" class="fw-bold">Exam</th>
        <th scope="col" class="fw-bold">Objective</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>CompTIA Security+ SY0-601</td>
        <td>
        1.7 Summarize the techniques used in security assessments.
        <ul>
            <li>
            Syslog/Security information and event management (SIEM)
            <ul>
                <li>Log collectors</li>
            </ul>
            </li>
        </ul>
        <p>3.1 Given a scenario, implement secure protocols.</p>
        <ul>
            <li>
            Use cases
            <ul>
                <li>Subscription services</li>
            </ul>
            </li>
        </ul>
        <p>3.3 Given a scenario, implement secure network designs.</p>
        <ul>
            <li>
            Network appliances
            <ul>
                <li>Collectors</li>
            </ul>
            </li>
        </ul>
        </td>
    </tr>
    </tbody>
</table>

## 12.4.1 Windows Event Subscriptions

### Event Subscriptions 00:00-00:37

In this lesson, we're going to discuss event subscriptions. The event log only stores local events. But system administrators need to see events across multiple systems.

This is especially true for security. If you're trying to identify potential security breaches or intrusion attempts, looking at each system's event logs one at a time might not give you a complete picture of what's happening in your network—"seeing each computer's information in isolation can conceal important patterns and timelines. Gathering all event log information in one place lets you monitor your network as a whole.

### Event Forwarding 00:37-01:10

You can do this with event forwarding and event subscriptions.

Here's an example. This system's event logs only contain events from its local system. The same is true for these other two systems.

I'm forwarding my events from these two computers over to this one so I can see all the information in one place.

Event forwarding also lets you configure specific events to be transferred using specific criteria. This is nice because, more than likely, you don't want to see all the informational events on all systems. Usually, we're more concerned about critical events.

### The Collector 01:10-01:50

The host that receives all the log events is called the collector. Its name describes exactly what it does; it collects logging events from other computer systems and consolidates them into one view.

Event forwarding uses the HTTP protocol to transfer events to the collector computer. As you probably know, HTTP is a clear text protocol. So, if you need encryption and authentication to ensure that events are securely transferred to the collector's system, you can use the HTTPS protocol as well.

Using HTTP and HTTPS make setup relatively easy because most network firewalls are already configured to allow this type of traffic through.

### Configure Event Forwarding 01:50-02:26

Since event forwarding isn't enabled by default on Windows systems, you have to set up both the collector and the source computers.

Let's look at how to do that. First, start the Windows Remote Management service. Then, on the collector's system, start the Windows Event Collector service. After that, on the source computers, configure the Windows firewall to create an exception for HTTP or HTTPS, depending on which protocol you're using.

Event forwarding on Windows can be configured in two ways. One option is the collector-initiated subscriptions, and the other is source-initiated subscriptions. Let's look at both options.

### Collector-Initiated Subscriptions 02:26-03:54

In collector-initiated subscriptions, the collector computer initiates the collection of events from various source computers.

Collector-initiated subscriptions are useful in situations where you have a very limited number of source computers because, to make this configuration work, you have to visit each of the source computers and make manual configuration settings. So, if you have a lot of source computers to manage, this model could become overwhelming.

When you configure a collector-initiated subscription, you have to run the 'WinRM qc' command on each computer. This command enables the Windows Remote Management service on the source computer. This —`qc` option, right here, just stands for —`quick config`, but you could also spell it out and get the same result.

Then, to allow the collector computer to access the information on the source computers, you add the collector computer's account to the local event log reader's group on the source systems. Another option is to make the collector system a member of the Local Administrators group on the source computers, but that's not the best idea from a security standpoint.

Once you've configured all the source computers, you have to configure the Windows Event Collector service on the collector computer by running the Windows Event Collector utility. Open up the command prompt and run the 'wec util' command. This command allows you to manage the Windows Event Collector service. This service needs to be running on the collector computer for it to gather events from the various source computers.

### Source-Initiated Subscriptions 03:54-04:18

Next, let's look into source-initiated subscription. In this setup, the source system initiates the collection of events.

You typically use a source-initiated subscription model in situations when you have a large number of source computers and the source computers are all members of a domain. If this is the case, they can be managed using Group Policy, which is a much more efficient way to configure event subscriptions.

### Create Event Subscriptions 04:18-05:24

Regardless of whether you use source-initiated or collector-initiated subscription, you must create the event subscriptions themselves because they're used to transfer the events from the source computer to the collector computer.

If you're using source-initiated subscriptions, you can set up multiple remote event source computers using Group Policy. The Group Policy settings that you set up will be used to configure the source computers so they'll forward their events to the collector computer system. If you're using collector-initiated subscriptions, you need to manually define all the event source computer names in the event subscription. You can use the Advanced Subscription setting to configure three different types of event subscriptions: Normal, Minimize Bandwidth, and Minimize Latency.

In addition, you can configure the service account that will be used by the subscription. There are two different options for this. One is the default machine account. The second is to use a specific user service account. Whichever option you choose, you need to make sure that the account, either the machine account or the special user account, is a member of the source computer's Event Log Readers group.

### Summary 05:24-05:48

That's it for this lesson. In this video, we discussed event forwarding. First, we talked about how event forwarding works and some of its benefits. Then we talked about the different ways you can set up event forwarding. We looked at collector-initiated and source-initiated subscriptions. Then we walked through event forwarding's configuration process.

## 12.4.2 Configuring Collector-Initiated Subscriptions

### Configure Collector-initiated Subscriptions 00:00-00:38

In this demonstration, we're going to practice creating collector-initiated subscriptions. In order to do this, we need a source computer; a computer that generates events. We also must have a collector computer. This is the computer that will aggregate events from various source computers.

Aggregating events is an efficient way for an administrator to monitor network status. You can setup a log host on your network. If you need to check events that are occurring on other computers in your network, you can check the collector computer, your log host, and see events from computers in your network. You don't have to go to or log in to each computer.

### Configure Source Computer 00:38-01:37

This Windows system here is named PC-ENT. This is going to be the source computer. It is the system that will generate events collected by the collector.

This other system, PC02-1903, is going to be the collector computer. It will aggregate events from the source computers.

Let's switch back to the source computer PC-ENT. First, we'll configure collector-initiated subscriptions on the source computer. So, we'll open a command prompt on the source computer. We must run with an elevated command prompt.

At the command prompt, we're going to type 'winrm qc'. Press Enter. This command loads the WinRM service using the quick config option. We'll enter —˜Y' for yes to all the prompts displayed to start the WinRM service. Note that the appropriate exceptions have been added to our firewall rule so that traffic can go through.

### Add Source PC to Event Readers Group 01:37-02:42

The next thing we must do is add the collector computer to the Event Log Readers group on this computer. To do this, we launch Computer Management. We will run it as an administrator user.

We'll go to Local Users in Groups. Click Groups. Locate the Event Log Readers group, double-click and click Add. Now click Object Types and select Computers. By default, Computers is deselected. Click OK. Click Advanced and Find Now. Now we'll scroll though the list displayed here and locate the computer account or the computer that will be the collector.

In this case, it is the PC02-1903 computer. This is the collector. Let's select it. Click OK. OK again. Now this computer now has permissions to view the event log on this source system which is PC-ENT.

Let's close Computer Management for now. So, the source computer is ready to go. The next step is to configure the collector computer.

### Configure Collector Computer 02:42-05:50

We've switched back to the PC02-1903 computer which is the collector. As on the other system, we need to open an elevated command prompt. Click Yes on User Account Control.

On this system, we must run the Windows Event Collector Utility. We type —`wecutil qc` and click Enter. The qc parameter specifies the quick config option. This command sets up the Windows Event Collector on this system and starts the associated service.

We'll just say Yes to all the prompts to start. It tells us that the Windows Event Collector Service was configured successfully. The next step is to create the subscription. The subscription allows the collector to grab events from the event log on the source computer. We do this in the Event Viewer.

Type —`event` in the Search box. Right-click Event Viewer and run it as administrator. You want to click Subscriptions at this point. None are currently defined. We'll right-click and select Create Subscriptions. For subscription name, we'll enter 'Win10 Subscription'.

For Destination log, we want this set to Forwarded Events. Then under Subscription type and source computers, we must decide if we are configuring a Collector initiated subscription or a Source computer initiated subscription.

In this demo, we are creating a collector-initiated subscription. Therefore, we're going to leave the default option selected and click Computers. Here we must specify the computers we want to collect from. We'll click `Add Domain Computers > Advanced > Find Now`. Here we can select the computer we want to grab events from.

Remember, we configured PC-ENT as a source computer. So that's the only one we can use right now. Double-click it. Click OK. So, now this system has been added as a computer that we're going to grab events from.

Next, let's specify the events we want to grab from PC-ENT. Under Event logs, we'll specify the event logs we want to grab events from. We could select all of them if we wanted to, but for our purposes today, let's just grab Application.

You could select Security and System as well. That would work fine. Next, we must specify which Event level you want to specify. For example, let's specify Critical and Warning. By doing this, we'll transfer events that are of a warning level or critical level.

That makes sense. If we're gathering events from lots of different computers around the network on this collector computer, we probably don't care about these other types of events. We can end up with information overload.

Instead, we want to see things that we need to take care of right away. Click OK. Click OK again. Notice that we have a new subscription created and it is active. We can tell that it's active because it has a little green check mark to it.

Our subscription has been created and the forwarded events will start to show up on the collector system under Windows logs in Forwarded Events. However, we probably won't have any forwarded events right now. Why? Because we are filtering for critical or warning events. Those don't happen very often so there is nothing here. If we were to wait for an extended period, we would start to see some events here.

### Summary 05:50-06:01

That's it for this demonstration. In this demo, we configured a collector-initiated subscription.

## 12.4.3 Configuring Source-Initiated Subscriptions

### Configure Source-initiated Subscriptions 00:00-00:09

In this demonstration, we're going to look at how you can configure a source-initiated subscription.

Configure the Source Computer to Send Events 00:09-02:10
The first step in setting up a source-initiated subscription is to configure the source computer. This computer here, the Windows 10 system, is the source computer that we're going to gather events from. We will send events from this computer to the collector system.

To do this, we'll configure the Windows Remote Management Service on the source computer. Let's open an elevated command prompt. Type 'winrm qc -q' at the prompt. Notice that the WinRM Service is already running. If it weren't, this command would have started it.

We'll configure the Windows Remote Management Service on the source computer to accept remote requests from other network computers.

The next step is to configure the source computer with information about the collector computer that it's going to send events to. The beauty of source-initiated event subscriptions is that we can use Group Policy configure it.

We don't have to configure the collector computer with information about each computer on the network that's going to send events to it. By way of contrast, if we were to configure a collector-initiated event subscription, we would have to tell the collector computer the name of every computer that it was gathering events from.

For a source-initiated event subscription, all we do is configure the collector once. Then, each source computer system gets the appropriate information through Group Policy and automatically connects to the connector.

Let's type —`gpedit` in the Search box and select Edit Group Policy.

You'll note that during this demonstration, we're using the Local Group Policy editor. It's done simply for convenience. It doesn't matter if you set up these policies using your Local Group Policy, or if you set it up on the domain using Group Policy.

These settings are in the same place; they work the same. We're doing it this way for convenience. If you were working on a large network with lots of Windows systems, you would not use the Local Group Policy editor to do this. It'd be much easier to configure the policies at the domain level. That way, they're automatically pushed out to each computer when the computer logs in to the domain.

### Configure Event Forwarding 02:10-04:01

Under Computer Configuration, let's go to Administrative Templates. Find Windows Components and expand it. Then locate Event Forwarding. Under Event Forwarding, there's a policy named Configure target Subscription Manager. Double-click it to edit it.

First, let's enable the policy. Then let's tell it what SubscriptionManager to use. In other words, we'll tell it the collector system that it needs to send events to.

By the way, any time you're working with a policy within Group Policy and you're not sure what it does or how to configure it, always look at Help. Help provides very useful information.

For example, it tells us the syntax that we should use when we're setting up the SubscriptionManager. We'll click Show. Then, in the Value field, enter 'Server=HTTP://' followed by the host name of the collector computer.

In this demonstration, we're going to use the domain controller as the collector computer. You would never, ever do this on a real network. You would have a dedicated collector system that didn't do anything else. But, for what we're doing here today, it'll work well enough.

Now, the name of the collector computer is —˜SRV2019.CorpNet.xyz'. Notice down here, if you're using HTTPS, you must specify the port number to use. The port is 5986.

We're not going to use HTTPS in this demo. You could if you wanted to. Because we're not using HTTPS, we don't need to specify a port number. All we must do is type '/wsman/SubscriptionManager/WEC'. Click OK and click OK once more to enable the policy.

Notice that the policy state has now changed to Enabled. Let's close the Group Policy editor at this point.

Now, we need to switch over to the server system.

Configure the Collector Computer to Accept Events 04:01-07:29
As we said a minute ago, this server system is going to be the collector computer. Yes, it is a domain controller; no, you should never do this on a real network. Works great for doing this demo though.

To set up the collector system, let's open an elevated command prompt. On this collector system, we need to run 'winrm qc -q' just like we did on the source system. Press Enter. It tells us that this command has already been run and this service is already running on this machine. That's good.

Now, the next thing we do is run the wecutil command. This enables the Windows Event Collector on this system. We do need to use a couple of parameters with the command. We'll enter 'wecutil qc /q'. It tells us that the Windows Event Collector Service was configured correctly. We're ready to go.

The last step is to create the subscription. You can do this from the command line, using the wecutil command. If you want to do it the lazy way, and why not, you can use Event Viewer. That's how we're going to do it.

We're going to type —`event viewer` in the Search box and press Enter.

We'll right-click Subscription and click Create Subscription. The first thing we need to do is give the subscription a name. Let's name it —`Client Logs`.

Then, we must specify the destination log. In other words, when a source system sends an event to the collector, what's the collector going to do with it? Where will the collector put it? By default, it's set to go to Forwarded Events. We don't have to put it in Forwarded Events; we can put it in some other log if we want to. However, it's perfect in Forwarded Events. That's where we're going to put it.

Next, we must specify the type of subscription we're creating. Notice that, by default, it's set to Collector initiated. That is not what we want. We want to configure a source-initiated subscription. By doing this, our source systems can push out events to this collector computer.

Whenever that happens, the collector computer here will accept those forwarded events and put them in the Forwarded Events log. Click Select Computer Groups. Let's click Add Domain Computers, click Advanced, and click Find Now.

The computer that we configured to be a source computer is PC-ENT. We'll select it and click OK.

If source computers we are going to accept events from computers that are not members of the same domain, then we would click Add Certificates. With certificates, you can trust each other and are able to encrypt the data as it's transmitted.

We don't want attackers to be able to sniff these events as they're transmitted across the wire. Attackers could gain valuable information from this transmitted data. We don't have to worry about that here, because the PC-ENT Windows 10 system we configured as the source and this Windows server system are all in the same domain. Click OK.

Then, we need to configure a filter for the events that we want to collect. We can specify an event level. Let's specify Critical and Warning. We don't want information overload, so we're not going to select any of the others.

Down here, we can specify the logs we want to accept forwarded events from. Let's select Application and System. Click OK to set up the filter and then click OK once more.

If we click Subscriptions in Event Viewer, we see the subscription we just created. We see that it is currently active. At this point, we just sit back and wait for events from the source computer to be sent to this collector system.

### Summary 07:29-07:46

That's it for this demonstration. In this demo, we configured a source-initiated event subscription. We first configured the source machine to send events. Then we configured the collector system to accept events from the source system.

## 12.4.4 Windows Event Subscriptions Facts

Use Event Subscriptions to collect events from multiple computers and store the events on one computer.

This lesson covers the following topics:

- Process
- Subscription types
- Event subscription configuration

### Process

When you create an event subscription, events are sent from a source (also called forwarder) computer to the collector computer. The source computer is the computer where the event is generated. The collector computer is the computer where the events are sent. Events forwarded to a collector computer can be manipulated in the event logs like any other log.

Event forwarding allows you to:

- Establish the criteria for identifying events to be forwarded.
- Specify the log file the forwarded events are stored in on the collector.

Be aware of the following processes when implementing event forwarding and subscriptions:

<table>
    <thead>
    <tr>
        <th class_="firstTableHeader" scope="col" class="fw-bold">Process</th>
        <th scope="col" class="fw-bold">Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Setup</td>
        <td>
        Event forwarding uses HTTP to transfer the events from the source to
        the collector.
        <ul>
            <li>
            You can use HTTPS instead of HTTP to secure the transmission.
            </li>
            <li>
            HTTP or HTTPS makes setup relatively easy because most firewalls
            are already configured for HTTP and HTTPS traffic.
            </li>
        </ul>
        </td>
    </tr>
    <tr>
        <td>Configuration</td>
        <td>
        You must configure both the source and collector computers for event
        forwarding:
        <ul>
            <li>
            On the source and collector computers, start Windows Remote
            Management service.
            </li>
            <li>
            On the collector computer, start the Windows Event Collector
            service.
            </li>
            <li>
            On the source computers, configure a Windows Firewall exception
            for HTTP or HTTPS.
            </li>
        </ul>
        </td>
    </tr>
    <tr>
        <td>Implementation</td>
        <td>
        Event forwarding is implemented in one of two ways:
        <ul>
            <li>Collector-initiated subscriptions</li>
            <li>Source-initiated subscriptions</li>
        </ul>
        </td>
    </tr>
    </tbody>
</table>

### Subscription Types

The type of subscription determines the specific tasks required to configure event forwarding, as explained in the following table.

<table>
    <thead>
    <tr>
        <th class_="firstTableHeader" scope="col" class="fw-bold">
        Subscription Type
        </th>
        <th scope="col" class="fw-bold">Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Collector-initiated</td>
        <td>
        In collector-initiated subscriptions, a collector computer sends to
        the source computer a message requesting the event logs.
        Collector-initiated subscriptions require that manual configuration
        settings be made on each source computer. Accordingly, use this type
        of subscription only if you have a limited number of source
        computers that forward events.
        <p>
            To prepare source computers to use collector-initiated
            subscriptions, take following steps:
        </p>
        <ol>
            <li>
            On the source computer, run the
            <b class="fw-bold"> winrm qc -q </b>
            command to initiate the Windows Remote Management service.
            </li>
            <li>
            On the source computer, add the collector computer account to
            the local Event Log Readers group. You must also add a user
            account with administrative privileges to the Event Log Readers
            group.
            </li>
            <li>
            On the collector computer, run the
            <b class="fw-bold"> wecutil qc </b>
            command to run Windows Event Collector Service.
            <div
                class="info"
                data-block="
            You must also run
            <b>
            winrm qc
            </b>
            on the collector. It will use delivery optimization options other than the default.
        "
            >
                <div class="to-info-box">
                <div class="to-info-box-body">
                    <div class="to-icon large" aria-hidden="true" style="width:20px"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path fill="currentColor"
                        d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div>
                    <div class="to-info-box-body-content">
                    <span>
                        You must also run
                        <b> winrm qc </b>
                        on the collector. It will use delivery optimization
                        options other than the default.
                    </span>
                    </div>
                </div>
                </div>
            </div>
            </li>
        </ol>
        </td>
    </tr>
    <tr>
        <td>Source-initiated</td>
        <td>
        For source-initiated subscriptions, the source computer initiates
        the transfer to the collector computer. This type of subscription is
        most efficient in environments with a large number of source
        computers.
        <div
            class="info"
            data-block="
        To increase efficiency, you can use Group Policy to automatically push event subscription
            configuration settings to the source computers.
        "
        >
            <div class="to-info-box">
            <div class="to-info-box-body">
                <div class="to-icon large" aria-hidden="true" style="width:20px"><svg
                    aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                    fill="currentColor"
                    d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></span>
                <div class="to-info-box-body-content">
                <span>
                    To increase efficiency, you can use Group Policy to
                    automatically push event subscription configuration
                    settings to the source computers.
                </span>
                </div>
            </div>
            </div>
        </div>
        <p>
            To prepare source computers to use source-initiated subscriptions:
        </p>
        <ol>
            <li>
            On the source computer, run the
            <b class="fw-bold"> winrm qc -q </b>
            command to start the Windows Remote Management service.
            </li>
            <li>
            On the source computer, configure and enable the Event
            Forwarding policy through Group Policy or the local security
            policy. Specify the collector computer's FQDN.
            </li>
            <li>
            On the collector computer, run the
            <b class="fw-bold"> winrm qc -q </b>
            command to start the Windows Remote Management service.
            </li>
            <li>
            On the collector computer, run the
            <b class="fw-bold"> wecutil qc /q </b>
            command to start Windows Event Collector Service.
            </li>
            <li>
            In Active Directory or on the collector computer, add the source
            computers to a computer group.
            </li>
        </ol>
        </td>
    </tr>
    </tbody>
</table>

### Event Subscription Configuration

After the source and collector have been properly prepared, the next step is to configure event subscriptions. The subscriptions are used to transfer events from the source computer to the collector computer. Be aware of the following when configuring event subscriptions:

<table>
    <thead>
    <tr>
        <th class_="firstTableHeader" scope="col" class="fw-bold">Area</th>
        <th scope="col" class="fw-bold">Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Source-initiated subscriptions</td>
        <td>
        For source-initiated subscriptions, you configure event forwarding
        using the Configure target Subscription Manager Group Policy setting
        under Computer Configuration &gt; Administrative Settings &gt;
        Windows Components &gt; Event Forwarding. This setting configures
        the source computers to forward events to the specified collector
        computer.
        <div
            class="info"
            data-block="
        For collector-initiated subscriptions, you must manually define each source computer name in the
            event subscription.
        "
        >
            <div class="to-info-box">
            <div class="to-info-box-body">
                <div class="to-icon large" aria-hidden="true" style="width:20px"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                    fill="currentColor"
                    d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div>
                <div class="to-info-box-body-content">
                <span>
                    For collector-initiated subscriptions, you must manually
                    define each source computer name in the event
                    subscription.
                </span>
                </div>
            </div>
            </div>
        </div>
        </td>
    </tr>
    <tr>
        <td>Subscription configuration</td>
        <td>
        On the collector, you configure a subscription in Event Viewer. You
        must specify:
        <ul>
            <li>A subscription name.</li>
            <li>The destination log (usually Forwarded Events).</li>
            <li>
            The subscription type (collector-initiated or source-initiated).
            </li>
            <li>
            The computer (for a collector-initiated subscription) or the
            computer group (for a source-initiated subscription).
            </li>
            <li>The filter criteria for selecting the events to forward.</li>
        </ul>
        </td>
    </tr>
    <tr>
        <td>Type of service account</td>
        <td>
        You can use one of the following options for the type of service
        account that will be used by the subscription:
        <ul>
            <li>Default machine account</li>
            <li>A specific user service account</li>
            <div
            class="info"
            data-block="
        Either type of account must be a member of either the Source Computers Event Log Readers
                group (the most secure choice) or a member of the local Administrators group.
        "
            >
            <div class="to-info-box">
                <div class="to-info-box-body">
                <div class="to-icon large" aria-hidden="true" style="width:20px"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                        fill="currentColor"
                        d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"
                    ></path></svg></div>
                <div class="to-info-box-body-content">
                    <span>
                    Either type of account must be a member of either the
                    Source Computers Event Log Readers group (the most
                    secure choice) or a member of the local Administrators
                    group.
                    </span>
                </div>
                </div>
            </div>
            </div>
        </ul>
        </td>
    </tr>
    <tr>
        <td>Event saving</td>
        <td>
        By default, events received from source computers are saved in the
        Forwarded Events log.
        </td>
    </tr>
    <tr>
        <td>Filters</td>
        <td>If a filter is not defined, all events are collected.</td>
    </tr>
    <tr>
        <td>Runtime status</td>
        <td>
        After you have created the subscription, you can use the
        <b class="fw-bold"> Runtime Status </b>
        link to verify communications.
        <div
            class="info"
            data-block="
        If you need to change the subscription type after it has been created, you must delete and
            recreate the subscription.
        "
        >
            <div class="to-info-box">
            <div class="to-info-box-body">
<div class="to-icon large" aria-hidden="true" style="width:20px">
<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="circle-info" class="svg-inline--fa fa-circle-info" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"> <path fill="currentColor" d="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM208 352c-8.8 0-16 7.2-16 16s7.2 16 16 16l96 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0 0-112c0-8.8-7.2-16-16-16l-40 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 0 96-32 0zm48-168a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path></svg></div>
<div class="to-info-box-body-content">
<span>
If you need to change the subscription type after it has
been created, you must delete and recreate the
subscription.
</span>
</div>
            </div>
            </div>
        </div>
        </td>
    </tr>
    </tbody>
</table>

## 12.4.5 Logging Events with Event Viewer

### Logging Events with Event Viewer 00:00-00:38

Let's take a look at logging. The main place to find logs on a Windows 10 system is Event Viewer. On Windows 10, we're going to go down to the Start window, right-click, and go to Event Viewer. Here, on the left-hand side, we have Windows Logs and Applications and Services Logs. And within Windows Logs, you can see Application, Security, Setup, System, Forwarded Events, and Subscriptions. If you set up a subscription from a remote system, those events show up in Forwarded logs.

### System Log 00:38-01:16

The System log is a good place to look for operating system activity such as warnings, informational messages, and error messages. The System log is also a good place to begin troubleshooting. The Application log contains error messages and informational messages from applications running on the operating system.

You can double-click any event to get some more information about it. You'll see some explanations here. You can also go to the Details tab with more detailed information, and you can look at the XML view or the friendly view. It just depends on much detail you need.

### Navigation 01:16-02:01

In here, on the right, you can see arrows. These arrows allow you to click through logs one by one. You can see it's going up and down. Another thing you can do is look at event IDs and research them to figure out a little bit more about the warnings and logs that you see. Okay, click Close.

If you right-click an event, there are a few things you can do. You can copy an event. You can save the selected event. You can go to the event properties. You can also attach a task to the event. If I click on this, I can go through and tell it what I want to do when that event occurs in the future, like send me an email or display an error message. That way, as an administrator, you can be a little more informed when an event occurs.

### Custom Views 02:01-02:36

We can right-click a log to create a custom view. If we right-click our Applications log and go to Create Custom View, we're going to see that we can create a custom view for, basically, a filter for what we want to see. It'll create it as a separate custom view log over here. We'll check errors and then just click OK. We can name it here. We're going to call it Application Errors. We want it to show up under Custom Views. Click OK. You see it created it right here.

It went through and sorted out all the errors in the Applications log.

### Filters 02:36-03:09

Another thing you can do that's also helpful is right-click a log and tell it to filter the current log. Do the same thing, go select Errors on the filter, and hit OK.

It automatically filters the log for us and narrows it down. You can see this is a simple way to do it if you need to do it once or twice. But if it's something you need to do repetitively, you might want to create a custom view for it. If we right-click Application again, we can clear the filter and go back to normal. It'll give you all the events again.

### Properties 03:09-03:44

Let's look at log properties now. If we right-click a log and go to Properties, you can see that the properties include the log file path shown right here. You can see where the logs are stored. It also just displays the size of the log and what to do if the log fills up. You can set a maximum size for the log. You can tell it to override events as needed. For best practice's sake, we might want to select Do not override events. That way, if anything happened in the past that we need to see or need to be notified about, we can go back and look at it. We're going to go ahead and click OK.

### Security Log 03:44-03:57

In addition to the application system log, there's a security log. The Security log is where your audited events go. So, aside from the default Windows logs, we have our custom views.

### Administrative Events 03:57-04:24

Administrative Events is a new custom view that's created automatically. It very quickly shows us all the warnings and error messages for all of your logs simultaneously. This allows you to quickly troubleshoot any problems.

Also, we can see open application and service logs. There are many more events logged now than with prior versions of Windows. It includes, DFS, Hardware Events, Internet Explorer, and Key Management Service Microsoft.

### Other Logs 04:24-04:59

If we expand our Microsoft folder and then our Windows folder, we can see all the logs in there. And while this might seem as if it's too much, if you're troubleshooting something specific, having the logs set up this way makes it very easy to find what you're looking for and narrow down what you're looking for.

For example, if you're having Bitlocker problems, you can very easily scroll down to Bitlocker-DrivePreparationTool, expand it, and look at the logs for Bitlocker drive prep. In the same way, if you're having Group Policy problems, you can scroll down to Group Policy and see your Group Policy logs and information.

### Summary 04:59-05:17

So, these are some of the features of Event Viewer and how to use them. We went over what logs are available and what kind of information is in a log. We also went over how to set filters on your logs and create custom views.
